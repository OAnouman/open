<!--
  Generated template for the AdPreviewPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
    <ion-navbar transparent>
        <!-- <ion-title>{{ ad.title }}</ion-title> -->
        <ion-buttons end>
            <button ion-button clear (click)="dismiss()">
        Fermer
      </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content no-padding hide-fab>

    <ion-grid no-padding>

        <ion-row align-items-stretch>

            <ion-col col-12 col-sm-4 class="header-container">

                <!-- <img [src]="ad.pictures[0]" alt="Ad pictures" class="header-image"> -->
                <ad-pictures-slide [picturesUrls]="ad.pictures"></ad-pictures-slide>

            </ion-col>

            <ion-col col-12 col-sm-8>

                <ion-scroll scrollY="true" scrollX="false" #scroll>
                    <ion-card>
                        <ion-card-header text-center>
                            <h1 text-wrap text-center>{{ ad.title.toUpperCase() }} &nbsp;
                                <ion-icon *ngIf="ad.favIcon === 'heart'" color="primary" [name]="ad.favIcon"></ion-icon>
                            </h1>
                        </ion-card-header>
                        <ion-card-content>
                            <ion-list>
                                <ion-item>
                                    <h1 class="price" ion-text color="primary" text-center> {{ ad.price.toLocaleString('fr-FR') }} F</h1>
                                </ion-item>
                                <ion-item>
                                    <ion-avatar item-left>
                                        <img [src]="(ad.userProfile$ | async)?.picture" alt="">
                                    </ion-avatar>
                                    <h2>{{ (ad.userProfile$ | async)?.username }}
                                        <small>- {{ (ad.lastUpdatedAt > ad.createdAt ? ad.lastUpdatedAt : ad.createdAt ) | amLocale:'fr' | amTimeAgo
                      }}
                    </small>
                                    </h2>
                                </ion-item>
                                <div class="chip-container">
                                    <ion-chip *ngFor="let tag of ad.tags" [color]="tag.color">
                                        <ion-label>{{ tag.name }}</ion-label>
                                    </ion-chip>
                                </div>
                                <ion-item>
                                    <p text-wrap class="body">{{ ad.body }}</p>
                                </ion-item>
                            </ion-list>
                        </ion-card-content>

                    </ion-card>


                </ion-scroll>

            </ion-col>

        </ion-row>

    </ion-grid>


    <ion-fab bottom right #fab>
        <button color="secondary" ion-fab>
      <ion-icon name="call"></ion-icon>
    </button>
        <ion-fab-list side="top">
            <button color="secondary-light" ion-fab (click)="callNumber(fab)">
        <ion-icon name="call"></ion-icon>
      </button>
            <button color="secondary-light" ion-fab (click)="sendMessage(fab)">
        <ion-icon name="chatboxes"></ion-icon>
      </button>
        </ion-fab-list>
    </ion-fab>


</ion-content>